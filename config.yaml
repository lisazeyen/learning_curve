run: "newbudget_constraint"

logging:
  level: INFO
  format: '%(levelname)s:%(name)s:%(message)s'

scenario:
  lv: [1.0]
  clusters: [37]
  sector_opts: [Co2L-148sn-learnH2xElectrolysisp0-learnDACp0-learnsolarp0-learnonwindp0-learnoffwindp0-seqcost-limitgrowth, Co2L-148sn-learnH2xElectrolysisp0-learnDACp0-learnsolarp0-learnonwindp0-learnoffwindp0-seqcost-notimedelay, Co2L-148sn-learnH2xElectrolysisp0-learnDACp0-learnsolarp0-learnonwindp0-learnoffwindp0, Co2L-148sn-learnH2xElectrolysisp0-learnonwindp0-learnoffwindp0, Co2L-148sn-learnH2xElectrolysisp0-learnonwindp0-learnoffwindp0-seqcost-limitgrowth, Co2L-148sn-learnH2xElectrolysisp0, Co2L-148sn-learnH2xElectrolysisp0-seqcost-limitgrowth, Co2L-148sn-learnH2xElectrolysisp0-learnDACp0, Co2L-148sn-learnH2xElectrolysisp0-learnDACp0-seqcost-limitgrowth]
  investment_periods: [2020, 2030, 2040, 2050]

countries: ['AL', 'AT', 'BA', 'BE', 'BG', 'CH', 'CZ', 'DE', 'DK', 'EE', 'ES', 'FI', 'FR', 'GB', 'GR', 'HR', 'HU', 'IE', 'IT', 'LT', 'LU', 'LV', 'ME', 'MK', 'NL', 'NO', 'PL', 'PT', 'RO', 'RS', 'SE', 'SI', 'SK']
# sets technical potential at each bus for renewables
tech_limit: True
# cluster all nodes to one representative
one_node: True
# only select certain countries
select_cts: [] # ["DE", "FR", "GB", "ES"] # ["DE", "FR", "GB", "ES", "DK", "IT", "NO", "CH"]
# upper limit for new capacities of learning technologies
limit_growth: False
# lower limit for new capacities of learning technologies
limit_growth_lb: False
# only used for option seqcost=True, seqcost_update if the capital costs of learning
# technologies before the first initial run should be upated according to DEA
# data set depending on their build year
seqcost_update: False  # not working for offwind
# option to retrofit existing methane boilers to H2 boilers
h2boiler_retrofit: False
# number of linear segments for MIP
segments: 5
# temporal aggregeation for presolve
temporal_presolve: None # 73sn
# add time delay for learning, only capacities of the previous investment
# periods are considered for cost reduction
time_delay: True

learning_technologies:
  Generator: []  # solar, onwind, offwind-ac, offwind-dc
  StorageUnit: [] # battery, H2
  Store: []
  Link: []  # electrolyzer, DAC?, biomass CCS?

learning_rates:
  solar: 0.24   # DEA p.262 24%,
  solar rooftop: 0.24   # DEA p.262 24%,
  onwind: 0.10  # IRENA 2017 20%, DEA for elec and heat p. 220 assume 10%
  offwind: 0.16
  offshore-ac: 0.16  # Bloomberg New Energy Finance 2018, p.242 DEA
  offshore-dc: 0.16
  H2 electrolysis: 0.16  # IRENA between 16-21% https://irena.org/-/media/Files/IRENA/Agency/Publication/2020/Dec/IRENA_Green_hydrogen_cost_2020.pdf
  H2 Electrolysis: 0.16  # IRENA between 16-21% https://irena.org/-/media/Files/IRENA/Agency/Publication/2020/Dec/IRENA_Green_hydrogen_cost_2020.pdf
  H2 fuel cell: 0.16
  H2 Fuel Cell: 0.16
  battery: 0.18  # DEA technology data for energy storage, p.178
  DAC: 0.10  # https://www.sciencedirect.com/science/article/pii/S0959652619307772
  battery charger: 0.19 # battery inverter JRC "Li-ion batteries for mobility and stationary storage applications" p.69

temporal_aggregation:
  n_periods: 4
  hours: 24
  clusterMethod: 'hierarchical' # ['averaging', 'k_means', 'hierarchical', 'k_medoids']
  extremePeriodMethod: 'replace-cluster-center'  # {'None','append','new_cluster_center', 'replace_cluster_center'}
  kind: "storage-constraints"

co2_budget:
  2020: 0.7011648746
  2025: 0.5241935484
  2030: 0.2970430108
  2035: 0.1500896057
  2040: 0.0712365591
  2045: 0.0322580645
  2050: 0
  1p5 : 25 # Budget in Gt CO2 for 1.5 for Europe, global 420 Gt, assuming per capita share
  1p6 : 35  # Budget in Gt CO2 for 1.6 for Europe, global 580 Gt
  1p7 : 48  # Budget in Gt CO2 for 1.7 for Europe, global 800 Gt
  2p0 : 70 # Budget in Gt CO2 for 2 for Europe, global 1170 Gt

sector:
  electricity_grid_connection: True
  # TRANSPORT ------------------------------------------------------------
  'bev_dsm' : True #turns on EV battery
  'bev_availability' : 0.5  #How many cars do smart charging
  'v2g' : True #allows feed-in to grid from EV battery
  #what is not EV or FCEV is oil-fuelled ICE
  'land_transport_fuel_cell_share': # 1 means all FCEVs
    2020: 0
    2030: 0.05
    2040: 0.1
    2050: 0.15
  'land_transport_electric_share': # 1 means all EVs
    2020: 0
    2030: 0.25
    2040: 0.6
    2050: 0.85
  'transport_fuel_cell_efficiency': 0.5
  'transport_internal_combustion_efficiency': 0.3
  shipping_average_efficiency: 0.4 #For conversion of fuel oil to propulsion in 2011
  shipping_hydrogen_share: # 1 means all hydrogen FC
    2020: 0
    2025: 0
    2030: 0.05
    2035: 0.15
    2040: 0.3
    2045: 0.6
    2050: 1
    # HEAT --------------------------------------------------------------------
  reduce_space_heat_exogenously: true  # reduces space heat demand by a given factor (applied before losses in DH)
  # this can represent e.g. building renovation, building demolition, or if
  # the factor is negative: increasing floor area, increased thermal comfort, population growth
  reduce_space_heat_exogenously_factor: # per unit reduction in space heat demand
  # the default factors are determined by the LTS scenario from http://tool.european-calculator.eu/app/buildings/building-types-area/?levers=1ddd4444421213bdbbbddd44444ffffff11f411111221111211l212221
    2020: 0.10  # this results in a space heat demand reduction of 10%
    2025: 0.09  # first heat demand increases compared to 2020 because of larger floor area per capita
    2030: 0.09
    2035: 0.11
    2040: 0.16
    2045: 0.21
    2050: 0.29

costs:
  update_costs: True
  year: 2020
  lifetime: 25
  discountrate: 0.07 # From a Lion Hirth paper, also reflects average of Noothout et al 2016
  social_discountrate: 0.00 #0.02
  USD2013_to_EUR2013: 0.7532 # [EUR/USD] ECB: https://www.ecb.europa.eu/stats/exchange/eurofxref/html/eurofxref-graph-usd.en.html
  marginal_cost:
    solar: 0.01
    onwind: 0.015
    offwind: 0.015
    hydro: 0.
    H2: 0.
    battery: 0.
  emission_prices: # in currency per tonne emission, only used with the option Ep
    co2: 0.
  lines:
    length_factor: 1.25 #to estimate offwind connection costs

solving:
  # mem: 30000 #memory in MB; 20 GB enough for 50+B+I+H2; 100 GB for 181+B+I+H2
  options:
    formulation: kirchhoff
    load_shedding: true
    noisy_costs: true
    min_iterations: 4
    max_iterations: 6
    clip_p_max_pu: 0.01
    skip_iterations: false
    track_iterations: false
    #nhours: 10
  solver:
    name: gurobi
    threads: 16
    method: 2 # barrier
    crossover: 0
    BarConvTol: 1.e-5
    FeasibilityTol: 1.e-5
    AggFill: 0
    PreDual: 0
    # NoRelHeurTime: 300
    # NodeMethod: 2 # algorithm used for MIP node relaxation, 2=barrier
    MIPGap: 0.05    # 5% gap between (ObjBound-ObjVal)/ObjVal
    # MIPFocus: 3
    # - Cuts: 3
    #ScaleFlag: 0
    # - Heuristics: 0
    # - VarBranch: 3   # Mattson p.36 strong branching improved performance
    GURO_PAR_BARDENSETHRESH: 200

plotting:
  map:
    figsize: [7, 7]
    boundaries: [-10.2, 29, 35,  72]
    p_nom:
      bus_size_factor: 5.e+4
      linewidth_factor: 3.e+3

  costs_max: 800
  costs_threshold: 1

  energy_max: 15000.
  energy_min: -10000.
  energy_threshold: 50.

  vre_techs: ["onwind", "offwind-ac", "offwind-dc", "solar", "ror"]
  conv_techs: ["OCGT", "CCGT", "Nuclear", "Coal"]
  storage_techs: ["hydro+PHS", "battery", "H2"]
  load_carriers: ["AC load"]
  AC_carriers: ["AC line", "AC transformer"]
  link_carriers: ["DC line", "Converter AC-DC"]
  tech_colors:
    # wind
    onwind: "#235ebc"
    onshore wind: "#235ebc"
    offwind: "#6895dd"
    offshore wind: "#6895dd"
    offwind-ac: "#6895dd"
    offshore wind (AC): "#6895dd"
    offwind-dc: "#74c6f2"
    offshore wind (DC): "#74c6f2"
    # water
    hydro: '#298c81'
    hydro reservoir: '#298c81'
    ror: '#3dbfb0'
    run of river: '#3dbfb0'
    hydroelectricity: '#298c81'
    PHS: '#51dbcc'
    wave: '#a7d4cf'
    # solar
    solar: "#f9d002"
    solar PV: "#f9d002"
    solar thermal: '#ffbf2b'
    solar rooftop: '#ffea80'
    # gas
    OCGT: '#e0986c'
    OCGT marginal: '#e0986c'
    OCGT-heat: '#e0986c'
    gas boiler: '#db6a25'
    gas boilers: '#db6a25'
    gas boiler marginal: '#db6a25'
    gas: '#e05b09'
    fossil gas: '#e05b09'
    natural gas: '#e05b09'
    CCGT: '#a85522'
    CCGT marginal: '#a85522'
    gas for industry co2 to atmosphere: '#692e0a'
    gas for industry co2 to stored: '#8a3400'
    gas for industry: '#853403'
    gas for industry CC: '#692e0a'
    gas pipeline: '#ebbca0'
    gas pipeline new: '#a87c62'
    # oil
    oil: '#c9c9c9'
    oil boiler: '#adadad'
    agriculture machinery oil: '#949494'
    shipping oil: "#808080"
    land transport oil: '#afafaf'
    # nuclear
    Nuclear: '#ff8c00'
    Nuclear marginal: '#ff8c00'
    nuclear: '#ff8c00'
    uranium: '#ff8c00'
    # coal
    Coal: '#545454'
    coal: '#545454'
    Coal marginal: '#545454'
    solid: '#545454'
    Lignite: '#826837'
    lignite: '#826837'
    Lignite marginal: '#826837'
    # biomass
    biogas: '#e3d37d'
    biomass: '#baa741'
    solid biomass: '#baa741'
    solid biomass transport: '#baa741'
    solid biomass for industry: '#7a6d26'
    solid biomass for industry CC: '#47411c'
    solid biomass for industry co2 from atmosphere: '#736412'
    solid biomass for industry co2 to stored: '#47411c'
    # power transmission
    lines: '#6c9459'
    transmission lines: '#6c9459'
    electricity distribution grid: '#97ad8c'
    # electricity demand
    Electric load: '#110d63'
    electric demand: '#110d63'
    electricity: '#110d63'
    industry electricity: '#2d2a66'
    industry new electricity: '#2d2a66'
    agriculture electricity: '#494778'
    # battery + EVs
    battery: '#ace37f'
    battery storage: '#ace37f'
    home battery: '#80c944'
    home battery storage: '#80c944'
    BEV charger: '#baf238'
    V2G: '#e5ffa8'
    land transport EV: '#baf238'
    Li ion: '#baf238'
    # hot water storage
    water tanks: '#e69487'
    hot water storage: '#e69487'
    hot water charging: '#e69487'
    hot water discharging: '#e69487'
    # heat demand
    Heat load: '#cc1f1f'
    heat: '#cc1f1f'
    heat demand: '#cc1f1f'
    rural heat: '#ff5c5c'
    central heat: '#cc1f1f'
    decentral heat: '#750606'
    low-temperature heat for industry: '#8f2727'
    process heat: '#ff0000'
    agriculture heat: '#d9a5a5'
    # heat supply
    heat pumps: '#2fb537'
    heat pump: '#2fb537'
    air heat pump: '#36eb41'
    ground heat pump: '#2fb537'
    Ambient: '#98eb9d'
    H2 boiler: "#f073da"
    CHP: '#8a5751'
    CHP CC: '#634643'
    CHP heat: '#8a5751'
    CHP electric: '#8a5751'
    district heating: '#e8beac'
    resistive heater: '#d8f9b8'
    retrofitting: '#8487e8'
    building retrofitting: '#8487e8'
    # hydrogen
    H2 for industry: "#f073da"
    H2 for shipping: "#ebaee0"
    H2: '#bf13a0'
    hydrogen: '#bf13a0'
    SMR: '#870c71'
    SMR CC: '#4f1745'
    H2 liquefaction: '#d647bd'
    hydrogen storage: '#bf13a0'
    H2 storage: '#bf13a0'
    land transport fuel cell: '#6b3161'
    H2 pipeline: '#f081dc'
    H2 pipeline retrofitted: '#ba99b5'
    H2 Fuel Cell: '#c251ae'
    H2 Electrolysis: '#ff29d9'
    # syngas
    Sabatier: '#9850ad'
    methanation: '#c44ce6'
    methane: '#c44ce6'
    helmeth: '#e899ff'
    # synfuels
    Fischer-Tropsch: '#25c49a'
    liquid: '#25c49a'
    kerosene for aviation: '#a1ffe6'
    naphtha for industry: '#57ebc4'
    # co2
    CC: '#f29dae'
    CCS: '#f29dae'
    CO2 sequestration: '#f29dae'
    DAC: '#ff5270'
    co2 stored: '#f2385a'
    co2: '#f29dae'
    co2 vent: '#ffd4dc'
    CO2 pipeline: '#f5627f'
    # emissions
    process emissions CC: '#000000'
    process emissions: '#222222'
    process emissions to stored: '#444444'
    process emissions to atmosphere: '#888888'
    oil emissions: '#aaaaaa'
    shipping oil emissions: "#555555"
    land transport oil emissions: '#777777'
    agriculture machinery oil emissions: '#333333'
    # other
    shipping: '#03a2ff'
    power-to-heat: '#2fb537'
    power-to-gas: '#c44ce6'
    power-to-H2: '#ff29d9'
    power-to-liquid: '#25c49a'
    gas-to-power/heat: '#ee8340'
    waste: '#e3d37d'
    other: '#000000'

  nice_names:
    OCGT: "Open-Cycle Gas"
    CCGT: "Combined-Cycle Gas"
    offwind-ac: "Offshore Wind (AC)"
    offwind-dc: "Offshore Wind (DC)"
    onwind: "Onshore Wind"
    solar: "Solar"
    PHS: "Pumped Hydro Storage"
    hydro: "Reservoir & Dam"
    battery: "Battery Storage"
    H2: "Hydrogen Storage"
    lines: "Transmission Lines"
    ror: "Run of River"
